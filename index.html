<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turz Store - Solusi Digital Anda</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap');
        body { font-family: 'Poppins', sans-serif; background-color: #0D1117; color: #E5E7EB; overflow-x: hidden; scroll-behavior: smooth; }
        .page-section, .modal-backdrop, #floating-buttons { transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out; }
        .modal-content { transition: transform 0.4s ease-in-out, opacity 0.4s ease-in-out; transform: scale(0.95); opacity: 0; }
        .modal-backdrop.active .modal-content { transform: scale(1); opacity: 1; }
        .modal-backdrop { background-color: rgba(10, 10, 20, 0.8); backdrop-filter: blur(5px); }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .anim-fade-up { animation: fadeInUp 0.7s ease-out forwards; opacity: 0; }
        .delay-1 { animation-delay: 0.2s; } .delay-2 { animation-delay: 0.4s; } .delay-3 { animation-delay: 0.6s; }
        .card { background: linear-gradient(145deg, #1f2937, #111827); border: 1px solid #30363d; transition: all 0.3s ease; }
        .card:hover { transform: translateY(-10px); box-shadow: 0 0 25px rgba(56, 189, 248, 0.2); }
        .payment-method { border: 2px solid #374151; transition: all 0.2s ease; }
        .payment-method.selected, .payment-method:hover { border-color: #2563EB; background-color: rgba(30, 58, 138, 0.5); }
    </style>
</head>
<body class="antialiased">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const getEl = (id) => document.getElementById(id);
            const heroSection = getEl('hero'),
                  etalaseSection = getEl('etalase'),
                  successSection = getEl('purchase-success'),
                  floatingButtons = getEl('floating-buttons'),
                  paymentModal = getEl('payment-modal'),
                  panduanModal = getEl('panduan-modal');

            let activePage = heroSection;
            let activeModal = null;
            let currentProduct = {};
            
            function show(el) { el.classList.remove('hidden'); setTimeout(() => el.style.opacity = '1', 10); }
            function hide(el) { el.style.opacity = '0'; setTimeout(() => el.classList.add('hidden'), 400); }

            function switchPage(newPage) {
                hide(activePage);
                show(newPage);
                activePage = newPage;
            }

            function openModal(modal) {
                if (activeModal) hide(activeModal);
                activeModal = modal;
                show(activeModal);
                activeModal.classList.add('active');
                hide(floatingButtons);
            }

            function closeModal() {
                if (activeModal) {
                    hide(activeModal);
                    activeModal.classList.remove('active');
                    activeModal = null;
                    if (activePage === etalase) {
                        show(floatingButtons);
                    }
                }
            }

            getEl('mulai-btn').addEventListener('click', () => {
                switchPage(etalase);
                show(floatingButtons);
            });

            document.querySelectorAll('.buy-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const name = btn.dataset.name;
                    const price = parseInt(btn.dataset.price, 10);
                    currentProduct = { name, price }; // Simpan info produk saat ini

                    if (price === 0) {
                        getEl('invoice-id').innerText = `TRZ-${Math.floor(Math.random() * 90000) + 10000}`;
                        getEl('invoice-date').innerText = new Date().toLocaleString('id-ID', { dateStyle: 'long', timeStyle: 'short' });
                        getEl('product-name').innerText = name;
                        switchPage(successSection);
                        hide(floatingButtons);
                    } else {
                        getEl('modal-product-name').innerText = name;
                        getEl('modal-product-price').innerText = 'Rp' + price.toLocaleString('id-ID');
                        openModal(paymentModal);
                    }
                });
            });
            
            getEl('kembali-btn').addEventListener('click', () => {
                switchPage(etalase);
                show(floatingButtons);
            });
            
            getEl('panduan-btn').addEventListener('click', () => openModal(panduanModal));

            // --- FUNGSI PEMBAYARAN YANG DIMODIFIKASI ---
            getEl('lanjut-bayar-btn').addEventListener('click', () => {
                const customerName = getEl('customer-name').value;
                if (!customerName) {
                    alert('Silakan masukkan nama Anda terlebih dahulu.');
                    return;
                }

                // GANTI 'NAMA_AKUN_SAWERIA_ANDA' DENGAN USERNAME SAWERIA ANDA
                const saweriaUsername = 'turzxd'; // <-- GANTI DI SINI

                const productName = currentProduct.name;
                const productPrice = currentProduct.price;

                // Membuat pesan untuk Saweria
                const message = `Pembelian ${productName} - oleh ${customerName}`;

                // Membuat URL Saweria
                const saweriaURL = `https://saweria.co/${saweriaUsername}?amount=${productPrice}&msg=${encodeURIComponent(message)}`;

                // Mengarahkan pengguna ke halaman pembayaran Saweria
                console.log('Mengarahkan ke:', saweriaURL);
                window.location.href = saweriaURL;
            });

            document.querySelectorAll('.close-modal-btn').forEach(btn => btn.addEventListener('click', closeModal));
            document.querySelectorAll('.payment-method').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.payment-method').forEach(b => b.classList.remove('selected'));
                    btn.classList.add('selected');
                });
            });
        });
    </script>
</body>
</html>
